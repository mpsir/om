!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).Frag=t()}(this,function(){"use strict";var e,t=Symbol(),n=Symbol(),r=Symbol(),i=Symbol(),o=function(e){return"frag"in e};function f(e,t){n in e||(e[n]=t,Object.defineProperty(e,"parentNode",{get:function(){return this[n]||this.parentElement}}))}function a(e){r in e||(e[r]=!0,Object.defineProperty(e,"nextSibling",{get:function(){var e=this.parentNode.childNodes,t=e.indexOf(this);return t>-1&&e[t+1]||null}}))}function s(t){if(!e){var n=Object.getOwnPropertyDescriptor(Node.prototype,"childNodes");e=n.get}var r=e.apply(t),i=Array.from(r).map(function(e){return function(e,t){for(;e.parentNode!==t;){var n=e.parentNode;n&&(e=n)}return e}(e,t)});return i.filter(function(e,t){return e!==i[t-1]})}function c(e){i in e||(e[i]=!0,Object.defineProperties(e,{childNodes:{get:function(){return this.frag||s(this)}},firstChild:{get:function(){return this.childNodes[0]||null}}}),e.hasChildNodes=function(){return this.childNodes.length>0})}function u(){var e;(e=this.frag[0]).before.apply(e,arguments)}function h(){var e=this.frag;e.splice(0,e.length).forEach(function(e){e.remove()})}function p(e){if(o(this)){var n=this.frag.indexOf(e);if(n>-1){var r=this.frag.splice(n,1)[0];0===this.frag.length&&function(e,n){var r=e[t];n.before(r),f(r,e),e.frag.unshift(r)}(this,r),e.remove()}}else{s(this).indexOf(e)>-1&&e.remove()}return e}function l(e,t){var n=this,r=e.frag||[e];if(o(this)){var i=this.frag;if(t){var s=i.indexOf(t);s>-1&&(i.splice.apply(i,[s,0].concat(r)),t.before.apply(t,r))}else{var c=i[i.length-1];i.push.apply(i,r),c.after.apply(c,r)}g(this)}else t?this.childNodes.includes(t)&&t.before.apply(t,r):this.append.apply(this,r);return r.forEach(function(e){f(e,n)}),a(r[r.length-1]),e}function d(e){var t=this.frag;return t[t.length-1].after(e),f(e,this),g(this),t.push(e),e}function g(e){var n=e[t];e.frag[0]===n&&(e.frag.shift(),n.remove())}var v={inserted:function(e){var n=e.parentNode,r=e.nextSibling,i=e.previousSibling,s=Array.from(e.childNodes),g=document.createComment("");0===s.length&&s.push(g),e.frag=s,e[t]=g;var v=document.createDocumentFragment();v.append.apply(v,function e(t){var n;return(n=Array.prototype).concat.apply(n,t.map(function(t){return o(t)?e(t.frag):t}))}(s)),e.replaceWith(v),s.forEach(function(t){f(t,e),a(t)}),c(e),Object.assign(e,{remove:h,appendChild:d,insertBefore:l,removeChild:p,before:u}),Object.defineProperty(e,"innerHTML",{set:function(e){var t=this,n=document.createElement("div");n.innerHTML=e;var r=this.frag.length;Array.from(n.childNodes).forEach(function(e){t.appendChild(e)}),n.append.apply(n,this.frag.splice(0,r))},get:function(){return""}}),n&&(Object.assign(n,{removeChild:p,insertBefore:l}),f(e,n),c(n)),r&&a(e),i&&a(i)},unbind:function(e){e.remove()}},m={directives:{frag:v},render:function(e){return e("div",{directives:[{name:"frag"}]},this.$slots.default)}};return v.Fragment=m,v}),Vue.component("fragment",Frag.Fragment);